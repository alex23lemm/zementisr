<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Alexander Lemm" />


<title>Downloading and visualizing model metrics</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Downloading and visualizing model metrics</h1>
<h4 class="author"><em>Alexander Lemm</em></h4>



<p>Zementis Server allows you to fetch model memory and model prediction metrics for each model that was deployed to the server. In this vignette we take a closer look at the function <code>get_model_metrics()</code> from zementisr that assists you in downloading the model metrics. Furthermore, we show you some best practices how to visualize the different model metrics of your predictive models.</p>
<p><strong>Note:</strong> The features described in this vignette are only available for Zementis Server 10.3 or higher.</p>
<div id="some-data-science-prep-work" class="section level2">
<h2>Some data science prep work</h2>
<p>Before showing how to download the model metrics using the zementisr package, we will create two predictive models and upload them to the server: One classification model and one regression model. The prediction metrics returned from Zementis Server differ for these two model types.</p>
<p>We will use some shortcuts while following the data science process because we would like to concentrate on showcasing zementisrâ€™s model metric-related functions in this vignette. For instance, we will just build the predictive models using the training sets without evaluating the model performances before deploying them to Zementis Server in PMML format. The test sets will be (mis-)used to simulate new and unseen data which is sent to Zementis Server for scoring.</p>
<p>Our <em>classification model</em> will be a classification tree created using the <code>rpart()</code> function and the <code>iris</code> data set. The classification tree will be used to predict the iris species.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">42</span>)
iris &lt;-<span class="st"> </span>iris[<span class="kw">sample</span>(<span class="kw">nrow</span>(iris)), ]
index &lt;-<span class="st"> </span>caTools<span class="op">::</span><span class="kw">sample.split</span>(iris<span class="op">$</span>Species, <span class="fl">0.8</span>)
training_set &lt;-<span class="st"> </span>iris[index, ]
test_set_iris &lt;-<span class="st"> </span>iris[<span class="op">!</span>index, ]

iris_cart &lt;-<span class="st"> </span>rpart<span class="op">::</span><span class="kw">rpart</span>(Species<span class="op">~</span>., <span class="dt">data =</span> training_set)</code></pre></div>
<p>We will use the built-in data set <code>mtcars</code> to create a <em>multiple linear regression model</em> for predicting car consumption measured in miles per gallon (MPG).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">index &lt;-<span class="st"> </span>caTools<span class="op">::</span><span class="kw">sample.split</span>(mtcars<span class="op">$</span>mpg, <span class="fl">0.8</span>)
training_set &lt;-<span class="st"> </span>mtcars[index, ]
test_set_mtcars &lt;-<span class="st"> </span>mtcars[<span class="op">!</span>index, ]

mtcars_lm &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>wt <span class="op">+</span><span class="st"> </span>qsec <span class="op">+</span><span class="st"> </span>am, <span class="dt">data =</span> training_set)</code></pre></div>
<p>Now, we will convert both models to PMML and upload them to the server:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(pmml)
<span class="kw">library</span>(zementisr)

<span class="kw">pmml</span>(iris_cart, <span class="dt">model.name =</span> <span class="st">&quot;iris_model&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span>upload_model
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $is_active</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="kw">pmml</span>(mtcars_lm, <span class="dt">model.name =</span> <span class="st">&quot;mtcars_model&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span>upload_model
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;mtcars_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $is_active</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="retrieving-model-metrics-from-zementis-server" class="section level2">
<h2>Retrieving model metrics from Zementis Server</h2>
<p>Initially, <code>get_model_metrics()</code> will only return the memory related metrics <em>expressed in MB</em> if the model on the server has not yet predicted any new values which is the case for both models we just uploaded:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get_model_metrics</span>(<span class="st">&quot;iris_model&quot;</span>)
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $memory_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   modelSize usedMemory freeMemory totalMemory</span>
<span class="co">#&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1     0.009       278.       159.        436.</span>

<span class="kw">get_model_metrics</span>(<span class="st">&quot;mtcars_model&quot;</span>)
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;mtcars_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $memory_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   modelSize usedMemory freeMemory totalMemory</span>
<span class="co">#&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1     0.003       278.       158.        436.</span></code></pre></div>
<p>The memory metrics returned from <code>get_model_metrics()</code> are in fact a mix between server memory and model memory specific KPIs:</p>
<ul>
<li><strong>modelSize</strong>: The amount of memory consumed by the specific model itself</li>
<li><strong>usedMemory</strong>: The entire memory currently used by all models and other resources on the server</li>
<li><strong>freeMemory</strong>: The memory still available on the server</li>
<li><strong>totalMemory</strong>: The total amount of server memory</li>
</ul>
<p>Looking at the output above we see that both models only consume a tiny amount of memory. That makes sense because they represent really simple models which were trained using very small data sets. Ensemble models like a random forest model or a deep neural network trained with a lot of data including many predictor variables would consume far more memory.</p>
<p>Next, we will send 500 new values to each model deployed on Zementis Server for scoring. The data mimicking our new and unseen data will be samples we draw from the two test sets we created above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">index &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">dim</span>(test_set_iris)[<span class="dv">1</span>], <span class="dv">500</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
iris_predictions &lt;-<span class="st"> </span><span class="kw">predict_pmml_batch</span>(test_set_iris[index, ], <span class="st">&quot;iris_model&quot;</span>)
<span class="kw">head</span>(iris_predictions<span class="op">$</span>outputs, <span class="dv">4</span>)
<span class="co">#&gt;   Predicted_Species Probability_setosa Probability_versicolor</span>
<span class="co">#&gt; 1            setosa                  1             0.00000000</span>
<span class="co">#&gt; 2            setosa                  1             0.00000000</span>
<span class="co">#&gt; 3         virginica                  0             0.02631579</span>
<span class="co">#&gt; 4        versicolor                  0             0.92857143</span>
<span class="co">#&gt;   Probability_virginica</span>
<span class="co">#&gt; 1            0.00000000</span>
<span class="co">#&gt; 2            0.00000000</span>
<span class="co">#&gt; 3            0.97368421</span>
<span class="co">#&gt; 4            0.07142857</span>

index &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">dim</span>(test_set_mtcars)[<span class="dv">1</span>], <span class="dv">500</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
mtcars_predictions &lt;-<span class="st"> </span><span class="kw">predict_pmml_batch</span>(test_set_mtcars[index, ], <span class="st">&quot;mtcars_model&quot;</span>)
<span class="kw">head</span>(mtcars_predictions<span class="op">$</span>outputs, <span class="dv">4</span>)
<span class="co">#&gt;   Predicted_mpg</span>
<span class="co">#&gt; 1      27.36557</span>
<span class="co">#&gt; 2      12.60995</span>
<span class="co">#&gt; 3      27.36557</span>
<span class="co">#&gt; 4      16.07668</span></code></pre></div>
<p>After executing <code>get_model_metrics()</code> a second time, the response now includes the prediction-related metrics as well. As you can see the prediction metrics differ between classification and regression models.</p>
<p>For <strong>classification models</strong> the number of predictions for each class since model activation on the server are returned:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris_metrics &lt;-<span class="st"> </span><span class="kw">get_model_metrics</span>(<span class="st">&quot;iris_model&quot;</span>)
iris_metrics
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $prediction_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;   virginica setosa versicolor</span>
<span class="co">#&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;</span>
<span class="co">#&gt; 1       127    164        209</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $memory_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   modelSize usedMemory freeMemory totalMemory</span>
<span class="co">#&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1      0.01       224.       213.        438.</span></code></pre></div>
<p>Prediction-related metrics for <strong>regression models</strong> include the Five-number summary since model activation on the server:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars_metrics &lt;-<span class="st"> </span><span class="kw">get_model_metrics</span>(<span class="st">&quot;mtcars_model&quot;</span>)
mtcars_metrics
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;mtcars_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $prediction_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 5</span>
<span class="co">#&gt;   Minimum FirstQuartile Median ThirdQuartile Maximum</span>
<span class="co">#&gt;     &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt; 1    12.4          12.6   21.4          26.8    27.4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $memory_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   modelSize usedMemory freeMemory totalMemory</span>
<span class="co">#&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1     0.004       225.       213.        438.</span></code></pre></div>
</div>
<div id="visualizing-model-memory-metrics" class="section level2">
<h2>Visualizing model memory metrics</h2>
<p>In this and in the next section we will use <code>ggplot2</code> to visualize both the memory metrics and the prediction metrics for both models we just received from the server.</p>
<p>Letâ€™s get started with visualizing the memory metrics:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

iris_metrics[[<span class="st">&quot;memory_metrics&quot;</span>]] <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">gather</span>(<span class="st">&quot;metric&quot;</span>, <span class="st">&quot;MB&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(metric, MB)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> metric)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Memory metrics for&quot;</span>, iris_metrics[[<span class="st">&quot;model_name&quot;</span>]]))</code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAEgCAMAAABrWDzDAAABaFBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZmYAZrYAv8QzMzM6AAA6ADo6AGY6OmY6OpA6ZmY6ZpA6ZrY6kJA6kNtNTU1NTW5NTY5Nbo5NbqtNjshmAABmADpmAGZmOgBmOjpmOpBmZgBmZjpmZmZmZrZmkJBmtrZmtttmtv9uTU1uTW5uTY5ubo5ubqtujqtujshuq6tuq+R8rgCOTU2OTW6OTY6Obk2Obm6ObquOjk2Ojm6Ojo6OjsiOyP+QOgCQOjqQOmaQZpCQkDqQkGaQtpCQ27aQ29uQ2/+rbk2rbm6rbo6rjqurq46ryKur5Mir5OSr5P+2ZgC2Zjq2tma225C22/+2/7a2/9u2///HfP/Ijk3Ijm7IyI7I5KvI/8jI/+TI///bkDrbkGbbtmbb25Db/7bb/9vb///kq27kq47k/8jk///r6+vy8vL4dm3/tmb/yI7/25D/27b/5Kv//7b//8j//9v//+T///93A1IHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAUjUlEQVR4nO2dgX/bxnXHIa2eNllr15F2E7VZ2mwdbWfNtGxu2pRKuqSTnCadmGYp6zSruC2TWq+lOMoU/v3duzsA5PEAgXg4Ph71+35skYQO4Om9r+4OFMGXpAAwSKQ7AOIGAgEWEAiwgECABQQCLCAQYAGBAAsIBFisTaBBsnOi78yOk722Dz45GNp7s+N7FxV9SLzfLXaq3L2M2fHewqMGh4iXNQqUdPSdyX77Ao12h/ZeVfrGSeJ/agjUnPUJtPtdE9jRnx4GFKiKcdJr+4k1EGgdDHZ/qeew2fH3tUDXh0lCaZ/sd8Y0OI3t9JJtV1kZJTvfs/uYDJW0VZOi2mp2+FedPtXA7qi+k1mjxkBqvfgEelqlnM/tvrBX1ROn+pl2f3W8t9BxCBSCwe7nhzSHTQ4+J4FoOtFZnux/Y1/d+XDfzC/59tnxn+wn9/57n/bJho6StplAtMP/UPpG+TF0C+uCEch5Ap1rI1C2++JeVU+cmmf62muLHYdAIRjsDgf0izrau1YCqST1KC97tCTqpfrXe7Kvk9ejtOh7nezXeWBnKF9bOoaewoodZscqj2PdqkMjQzbBkIfuE2jMTtnuzl5lT0zHuD40ms7/QBAoDEqCsU5zj3Kjk6QTrwW4PtQzByVP521Aw4q2ZqQylCfTbZsdwwqUTSD2G0vrdRJo6QkII1Cx+9JSu6yT5pnM70HWGQgUBiXQ9WGPTrjJBzPg05A/9/s+oNzomWNM+bWrjU6x+F1sWxzDCkQ7mATPL3uKM3cjkPMEhBEo293Za/mJi2OYntESregMBAoDTUNqDhvtpSsJRBuzGWx1gWgMypa79QVa3Gv5iSHQHGsVaKxOWHqpmcKyHLu5KWYYk4fxzs8OOyVtc09cgToLz5wNYO4UVirQwl5VnTTPtPgDQaAwkECT/b89GKZmEU3nMLTuWMzN/BrX5OH68Bv3T+wx3LbZMfRKqTBAf4NWLGO9TB7Zl8CXFtElAjl7+Z64WESbQ87/QBAoDANzorRnE2GH/I6TG8/Z8KBYjnjbUrpH+jQ+H0LG9jzcnpBn++sJx3e6vSiQs1fpE5MxY+c0XnUGAoVBL2RGlEKTCL3O6C3lRm9feD1ubkLytdUzjRoJzCtAdrex3a5dyE+pzIpl6QmWprDFvcqe2KyR1D37QmLWGQi0YSzMJWDT2HiB9KsvYGPZcIHoD0xh/gJ6O3pOylc7wM+GCzT394a1A4HqsOECgU0HAgEWEAiwgECABQQCLNYl0P8u4j72sK4mUXZlTVmrAQSKsitryloNIFCUXVlT1moAgaLsypqyVgMIFGVX1pS1GkCgKLuypqzVAAJF2ZU1Za0GECjKrqwpazUQEujXG0wgOyAQCycO0pJUEcgOCMTCiYO0JFUEsgMCsXDiIC1JFYHsgEAsnDhIS1JFIDsgEAsnDtKSVBHIDgjEwomDtCRVBLIDArFw4iAtSRWB7IBALJw4SEtSRSA7IBALJw7SklQRyA4IxMKJg7QkVQSyAwKxcOIgLUkVgeyAQCycOEhLUkUgOyAQCycO0pJUEcgOCMTCiYO0JFUEsgMCsXDiIC1JFYHsgEAsnDhIS1JFIDsgEAsnDtKSVBHIDgjEwomDtCRVBLIDAmXcnPanj15Vd54/PK+9kxMHaUmqCGQHBMoggR7/4EX68odPIFCrTbZLoKnSg/5fdbs00rx8O7v51tP+9MmPz9Lpu+q7ZvPNs4+73SPV8ihrOH3z6cMf9dPp378wR3PiIC1JFYHsuKsCvfzn8/RSTVjPj7Kbq64S6Df99HefqBZm883pqylNa1Oz5eqVF9NH/fTqiP6l6Z8rnINLS1JF0HhvHbcL9E9n9IhulEukE01hT7586+ajL8131babZ2cp/VcPqYW6ob1fvvPiizN7NOcXSVqSKgINL3d1BFIjS/fBGU1MXXVLG9LnSqDf/vz3PyG9zOY5gaiFumtufvGOncEg0N0VSKGmJBpYFPkIdP7Fx0d2glP4R6D08t2j7GhOHKQlqSKQHXdOIJqdLh+eK3lIILu0yddA51dmODKb5wTK1kAk0PRxNoNBoLsnUHrZ7f6DGk6e52dhaiZTw485Czs3/+zmeYHsWRgJdPNRfp7vxEFakioC2XH3BOIzfSu/68RBWpIqAtkBgVbm8kE+g0EgCMTDiYO0JFUEsgMCsXDiIC1JFYHsgEAsnDhIS1JFIDsgEAsnDtKSVBHIDgjEwomDtCRVBLIDArFw4iAtSRWB7IBALJw4SEtSRSA7IBALJw7SklQRyA4IxMKJg7QkVQSyAwKxcOIgLUkVgeyAQCycOEhLUkUgOyAQCycO0pJUEcgOCMTCiYO0JFUEsgMCsXDiIC1JFYHsgEAsnDhIS1JFIDvEBPq/fze3k/snARKLaj1RdmWFyIfxJgcCRdmVFSIPgQI3ibIr/iBP7n+4nySdifrSS9PZcZLsDid6y8G/JLufKZNo216riYVAUXbFH+TJ/r2LdJTQl93h7FiZMrp3QSPQZH9PD0W07fqw12ZiIVCUXfEHebLfy77cPxnvDlOyxQhktgWYzoQE+jOwEjUFIj+yL6NE09EC2W1aqnaBQFHQRCA1k2UbIdBdp4FA452TfGO2DVPYXaWBQLNjNQQpi2jRXGzbS/Xiuj0gUBQ0EEifstMoNEj2FrZtxWm8dEJio55AEkCgKIBAEIgFBIJALCAQBGIBgSAQCwgEgVhAIAjEAgJBIBYQCAKxqCfQH738IWhiIVAUQCAIxAICQSAWEAgCsYhWoGleU27hHrtioXRCYmPrBOJWLJROSGzEKpCue1F8mT7qdvtaIG7FQumExEYbAs2Ok87SLvqCn3TQ/L3SNUagvPwOlVLJyqwwKxZKJyQ26iWzWqDJwXB5l8n9v7xIr//a96163C7QfAEwXTBMC8SsWCidkNhoYQS6Pkx2PvyL13aH6o65ZIxuJgffO0knbyiBzOPZex8kSWec0GBlW6h9vttLJ1+/aCjQXAlCU/pJb2NWLJROSGy0MYWpEUhfYDjopKO97GZy8Mte+p8fKoHMY3rLPU1rE7NlfO+C9hl36F9DgYoh5eXb/XwKY1YslE5IbLQlEI003z5Jr78ztDeTg8++OXv/s4Ps8ey9k5T+q4fqEd3ofV6/+LTkgqBV1kC6CObjM3OPV7FQOiGx0aZAhwldrWFvJge/+ulXf6O228dzAlFjddfc/Ox1/wx2m0A3p/YETN+77C6UK2RULJROSGy0KZAaWBT2Rm359IMOCWQe+0egdPRGyQwmVbFQOiGx0aJAdmmTrXAOhuOdk2LFMydQ0aLqQ4YWBJodd9q8cLGiYqF0QmKjTYHodOwkuzEb7dS2czI/AuXnaWqf2fvDkiQvCDQgd1q+9NUCgVi0IRCHyTfLvjMvkP3ooQAf4QCBmAgLNNop/VAGCBQF0iNQOQtT2Mi8Qlm24OYAgVhEIlA61p9pFeJ5IBCLWAQKBwRiUU+g9A9egiYWAkVBTYEEyAVSK2j9anaSJFhEbxz1BPpHLxiBQCQCzY5b/QjqBSAQizgEavkzzBeAQCziECjNPlo4ABCIRRwCYRG9scQhUEggEIs4BMLfwjaWcAIVZ07Z2xWzt3DUQ0igKEvkbFBX/EFmC6QNWG0lXAhkq7skbX+UuSFEvCGQQ7VAy1fs0M3XXusV7xwzbzjTb2MdaBFsuwqETuOjzNoGdcUf5FsEWrpiR98kvfwKn6Gur5HaaxDpjYn2EqAKUHAuyq74g3zbCOS+X55u1BSWX+Ez1O/HMG90VVNSJ7sEqCqxiwKpaawX5sWgEPGGQA61BZq7Yicd9PIrfIa6HZWFUnfpUlT7narELr4n+t5Xh721vCc6yqxtUFf8QW46AuVX+Ix16gc9ms3eO0lvG30IZw1EyyCchW1+V/xBri3Q8hrIXL+jV8FmhBrp9xXadhVAoCi74g9yfYHs2dXsODsLswsfmrP03c/1XyU69hKgCpy/hX1FDq3hPdFRZm2DuuIPcrVAYRB6T3SUWdugrviDLC9QOELEGwI5QCCJJlF2xR9kcYEm++t6O0eUWdugrviDLC1QmFeADCHiDYFchC/rwd/CoulKsDytjNCb6qPM2gZ1xR9k/3uJ1rgGCvISoiFEvCGQg7hAWETH0hV/kKUFog8oC0WIeEMgB2mBsIiOpiv+IEsLhEV0NF3xB1laoFXejL8qIeINgRykBVrjhYVRZm2DuuIPcrVAxfCwcI9Zrwd/C4uyK/4gNxOIV68HAkXZFX+QKwXS7yErvtBLNj1zKQ+rXg9LoJvTvr1nqx7kRQ4gUNiuNBBovgCPqa2Sfcg4q15PewJRLZ/08pUX/qYh4g2BVhVovvxFai/lYdbrqSnQck1LuvnW035RW0WPPKbQ0/Nut/tq1g4CBehKQ4EWLuehsyW9jVWvp65ASzUt9U23b2tequ03p2b0MXV6np3Z76TekpcgBCuMQPSicV4ng1Ovp/YI5FaUoxs1hdmal9qaKypeaAS6PErtd+wBQvzCYgRaVaBiDaQvHdRXEDLr9awu0EIJzL6teZmtnE09Ol2s2X4HAoXoShOBZsdZvVS6N0roip58EGpcr4c9ApkxhkoY6unqOdWjo5Zzow8Ear0rTQTiUVavZ3WBltdAtig4nYWZEepSl0q17Qwh4g2BHAIKVFqvp4FA9uzq5jQ7C7MLH5qz9N3/oMmre2S+YwkRbwjkEHIEKgOvREfZFX+QIZBEkyi74g8yBJJoEmVXSqJ8d6r1RJm1DerKmrJWAwgUZVf8Qf61F4xAYZtE2RV/kCGQRJMou+IPMgSSaBJlV/xBhkASTaLsij/IEEiiSZRd8QcZAkk0ibIr/iBDIIkmUXbFH+SGAs2Oe82v7YFAUXbFH2SGQI2v7YFAUXbFH+RqgfSbENX/cZJV6ikK9jS/tgcCRdkVf5BrCURvdKYKPLYQj/mw+ubX9kCgKLviD3I9gb6t3xpmL+Kx5TKaX9sDgaLsij/I9aawyT699Xm+RA9VV2l6bQ8EirIr/iDXE0ihpiR7EU8+AjW9tgcCRdkVf5CrBaLZabQ7pOo7WaWevGBP82t7IFCUXfEHuVogKif4V2o4GeRnYfRGeVOwp/m1PRAoyq74g3yLQHw81/YICfTHTaSFxPKabLpAvmt7IFBBC4nlNdl0gXxAoIIWEstrAoHKceIg7YqXFhLLawKBynHiIO2KlxYSy2vCFegOXdYj7YqXFhLLa8IWSAAIVNBCYnlNIFA5ThykXfHSQmJ5TSBQOU4cpF3x0kJieU0gUDlOHKRd8dJCYnlNIFA5ThykXfHSQmJ5TSBQOU4cpF3x0kJieU0gUDlOHKRd8dJCYnlNIFA5ThykXfHSQmJ5TSBQOU4cpF3x0kJieU0gUDlOHKRd8dJCYnlNIFA5ThykXfHSQmJ5TSBQOU4cpF3x0kJieU0gUDlOHKRd8dJCYnlNIFA5ThykXfHSQmJ5TbZSoJvT7tHSRqr8lKbPH/pqE/px4iDtipcWEstrspUCeStYTh//4EX68ofe4pZ+nDhIu+KlhcTymmyjQFTw4pM3nz48L+oU6gKFPz5Lp++aAhkPzz0FDadqnx/1dd0njRMHaVe8tJBYXpNtFEgXs3zUT7P6g1mBwt/00999YsoXqsfLBQ1pn6sj+uetWCjtipcwEd5yagn05DyrP5gXKPzyrZuPvnySPV4uJ6b3eefFFyUF56Rd8dLCyMBrsrUjkK3l1H1wlhco/O3Pf/8TXSRMP/YXNLx59ot3SuqFSbvipYXE8ppstUCm/mBRoPCLj49IIPPYPwKll+/mJ3BOHKRd8dJCYnlNtlmg+TqFukDhlSmUah4vFzTU+0wflxWck3bFSwuJ5TXZaoFs/cG8QGExtT048xQ0NMW/PyqrGy/tipcWEstrspUCcZi+ld914iDtipcWEstrAoEWuSxKpkIgCMTDiYO0K15aSCyvCQQqx4mDtCteWkgsrwkEKseJg7QrXlpILK8JBCrHiYO0K15aSCyvCQQqx4mDtCteWkgsrwkEKseJg7QrXlpILK8JBCrHiYO0K15aSCyvCQQqx4mDtCteWkgsrwkEKseJg7QrXlpILK8JBCrHiYO0K15aSCyvCQQqx4mDtCteWkgsrwkEKseJg7QrXlpILK8JBCrHiYO0K15aSCyvCQQqx4mDtCteWkgsrwkEKidEvNedtQ3qypqyVgMIFGVX1pS1GkCgKLuypqzVAAJF2ZU1Za0GECjKrqwpazWAQFF2ZU1ZqwEEirIra8paDSBQlF1ZU9ZqsC6BHNxP6xA8ytZ1Zb1AoK3rynqBQFvXlfUCgbauK+tFSCCwLUAgwAICARYQCLCAQICFhEAv3+6+8uL2ZuVkH5lGR2l4sOmjbrfPPUh61c0+PJtzlPTmlN8VKQQEonDRR0435kp/trk5SsOD0WfxTR+f8Q6iRS52b/5zXSqX2QcRQkAg+hxXbwGFmjx/8In92Fj7MbENDnala330eQfRFLs3Psr0zad95s8jh4BAVP6ARgDGEVSE7VEYByv25vSIPrefd5SbZ/922m/h55FBQCD6tGC+QPYozQ92c3rEP8j00YMz7lEuj2jeYndFiDs7Ar18+yht49eePY6p3W4wAq0Cf5qfstdAqS4g08rCg7uSuuwSR1gD1YbmDt6Jhi7EcWrrBDU6mPGHeZBs2mEexZyXsg8ixB19Hcj82ve5L75cdrOP78frQAA0AQIBFhAIsIBAgAUEAiwgEGABgQALCJSmk/3dobq5Prx3MTtOiJ50l+IBApFAOyf6hgTqqHtjGFQbCETmvEHajN7IBDJfQR0gEAn0/dcv0tl7H0Cg1YFAJNDfvT9MJ1//r3wKu3ch3adogEAkUG/US8edcb6I1otqUAcIpAUa76WD3jgbgeh8TLpTsQCBtEDXr3/1nWEuUDrGEFQXCKQFSj/9YC+FQA2AQEagUdIpBMJZWH0gkBFocv8kLRbR8Kc2EAiwgECABQQCLCAQYAGBAAsIBFhAIMACAgEWEAiwgECAxf8DCuRLK5NrPxcAAAAASUVORK5CYII=" /><!-- --></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars_metrics[[<span class="st">&quot;memory_metrics&quot;</span>]] <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">gather</span>(<span class="st">&quot;metric&quot;</span>, <span class="st">&quot;MB&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(metric, MB)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> metric)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Memory metrics for&quot;</span>, mtcars_metrics[[<span class="st">&quot;model_name&quot;</span>]]))</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="visualizing-model-prediction-metrics" class="section level2">
<h2>Visualizing model prediction metrics</h2>
<p>The prediction metrics are next. For <strong>classification models</strong> it makes most sense to create a bar chart based on the underlying data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris_metrics[[<span class="st">&quot;prediction_metrics&quot;</span>]] <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw">gather</span>(<span class="st">&quot;Class&quot;</span>, <span class="st">&quot;Number of cases&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(Class, <span class="st">`</span><span class="dt">Number of cases</span><span class="st">`</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Class)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Model prediction metrics for&quot;</span>, iris_metrics[[<span class="st">&quot;model_name&quot;</span>]]),
         <span class="dt">subtitle =</span> <span class="kw">paste</span>(<span class="st">&quot;Predictions calcuated since model deployment:&quot;</span>,
                          <span class="kw">rowSums</span>(iris_metrics[[<span class="st">&quot;prediction_metrics&quot;</span>]])))</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The best visualization for the 5-number summary of the <strong>regression model</strong> is a boxplot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars_metrics[[<span class="st">&quot;prediction_metrics&quot;</span>]] <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>)) <span class="op">+</span>
<span class="st">    </span><span class="kw">stat_identity</span>(
      <span class="kw">aes</span>(
        <span class="dt">lower =</span> FirstQuartile,
        <span class="dt">upper =</span> ThirdQuartile,
        <span class="dt">middle =</span> Median,
        <span class="dt">ymin =</span> Minimum,
        <span class="dt">ymax =</span> Maximum
        ),
      <span class="dt">geom =</span> <span class="st">&quot;boxplot&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(
      <span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Model prediction metrics for&quot;</span>, mtcars_metrics[[<span class="st">&quot;model_name&quot;</span>]])
    ) <span class="op">+</span>
<span class="st">    </span><span class="kw">xlab</span>(<span class="ot">NULL</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Miles per Gallon (MPG)&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="resetting-the-model-metrics" class="section level2">
<h2>Resetting the model metrics</h2>
<p>Every time a model is deactivated on the server, the corresponding model metrics are automatically reset. Calling <code>get_model_metrics()</code> on a deactivated model just returns the model name. Neither the memory metrics nor the prediction metrics are returned in this case.</p>
<p>Let us demonstrate this behavior. First, we will deactivate the iris classification tree on the server:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">deactivate_model</span>(<span class="st">&quot;iris_model&quot;</span>)
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $is_active</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>Next, we try to download the model metrics again for the iris classification tree. However, this time the return list will only include the model name since the deactivation reset the complete model metrics:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get_model_metrics</span>(<span class="st">&quot;iris_model&quot;</span>)
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span></code></pre></div>
<p>Re-activating the model and calling <code>get_model_metrics()</code>, now returns the model name plus the memory model metrics:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">activate_model</span>(<span class="st">&quot;iris_model&quot;</span>)
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $is_active</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="kw">get_model_metrics</span>(<span class="st">&quot;iris_model&quot;</span>)
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $memory_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   modelSize usedMemory freeMemory totalMemory</span>
<span class="co">#&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1      0.01       229.       209.        438.</span></code></pre></div>
<p>The returned list above does not include the prediction metrics for the iris model since the model deactivation before completely reset these metrics. Not before new data for scoring is sent to the server, the prediction metrics will be included in the serverâ€™s response:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">predict_pmml_batch</span>(test_set_iris[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, ], <span class="st">&quot;iris_model&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get_model_metrics</span>(<span class="st">&quot;iris_model&quot;</span>)
<span class="co">#&gt; $model_name</span>
<span class="co">#&gt; [1] &quot;iris_model&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $prediction_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   setosa versicolor</span>
<span class="co">#&gt;    &lt;int&gt;      &lt;int&gt;</span>
<span class="co">#&gt; 1      2          3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $memory_metrics</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   modelSize usedMemory freeMemory totalMemory</span>
<span class="co">#&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1     0.011       235.       203.        438.</span></code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
