---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# zementisr

zementisr is an R client for the Zementis Server API. Zementis Server is an execution engine for PMML models which also comes with model management capabilities. Using zementisr, data scientists can deploy PMML models, predict new values by sending data to the server and manage the entire PMML model life cycle without leaving their preferred R development environment.

## Installation

```{r eval=FALSE}
# install.packages("devtools")
devtools::install_github("alex23lemm/zementisr")

```

## Usage

zementisr deploys PMML models to Zementis Server and manages the model lifecycle. Here are some of the things you can do once you have converted your R prediction model to PMML: 

```{r}
library(zementisr)

# Build a simple lm model and convert it to PMML
iris_lm <- lm(Sepal.Length ~ ., data=iris)
iris_pmml <- pmml::pmml(iris_lm, model.name = "iris_model")


# Deploy PMML model to Zementis Server
upload_model(iris_pmml)

# Get prediction for new value
apply_model(iris[42, ], "iris_model")

deactivate_model("iris_model")

activate_model("iris_model")

delete_model("iris_model")
```


## Authentication 

Zementis Server's REST API uses HTTP Basic Authentication. For each request the client needs to provide username and password. 

The zementisr package requires that you store your secrets and the base URL of your Zementis Server as environment variables in the `.Renviron` file in your home directory.

Please, make sure to set the following environment variables accordingly in your `.Renviron` file before using functions from the zementisr package.:

``` {r eval=FALSE}
ZEMENTIS_base_url = "[address]:[port]"
ZEMENTIS_usr = "[your_username]"
ZEMENTIS_pwd = "[your_password]"

```
